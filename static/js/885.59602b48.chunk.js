"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[885],{2885:function(t,e,n){n.r(e),n.d(e,{default:function(){return rt}});var r,i=n(5671),o=n(3144),a=n(136),c=n(7277),s=n(2791),u=n(8687),l=n(2312),d=(n(6048),n(1137),n(7836)),h=n(130),m=n(4942),p=n(4141),f="ContactForm_contactForm__y0Rca",v="ContactForm_contactFormItem__hO2j7",x="ContactForm_contactBtn__Hbm5v",_=n(184),g=function(t){(0,a.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,r=n.name,i=n.value;t.setState((0,m.Z)({},r,i))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,r=n.name,i=n.number;r&&i&&(t.props.onAddContact(r,i),t.setState({name:"",number:""}))},t}return(0,o.Z)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("form",{className:f,onSubmit:this.handleSubmit,children:[(0,_.jsx)("label",{htmlFor:"name",className:v,children:"Name"}),(0,_.jsx)("input",{className:v,type:"text",id:"name",name:"name",value:e,onChange:this.handleChange}),(0,_.jsx)("label",{htmlFor:"phone",className:v,children:"Phone"}),(0,_.jsx)("input",{className:v,type:"text",id:"phone",name:"number",value:n,onChange:this.handleChange}),(0,_.jsx)("button",{className:x,children:"Add contact"})]})})}}]),n}(s.Component),y={onAddContact:p.Z.addContact},b=(0,u.$j)(null,y)(g),C=n(2507),j="Filter_filterContainer__8G57N",F="Filter_filterName__Y2kKA",E="Filter_filterField__hjFfe",Z=n(8101),k={onChangeFilter:C.Z.changeFilter},N=(0,u.$j)((function(t){return{value:Z.Z.getFilter(t)}}),k)((function(t){var e=t.value,n=t.onChangeFilter;return(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("label",{className:F,htmlFor:"filter",children:"Find contacts by name"}),(0,_.jsx)("input",{className:E,type:"text",value:e,onChange:function(t){return n(t.target.value)},id:"filter"})]})})),A=new Uint8Array(16);function V(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(A)}var R=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var S=function(t){return"string"===typeof t&&R.test(t)},w=[],D=0;D<256;++D)w.push((D+256).toString(16).substr(1));var P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(w[t[e+0]]+w[t[e+1]]+w[t[e+2]]+w[t[e+3]]+"-"+w[t[e+4]]+w[t[e+5]]+"-"+w[t[e+6]]+w[t[e+7]]+"-"+w[t[e+8]]+w[t[e+9]]+"-"+w[t[e+10]]+w[t[e+11]]+w[t[e+12]]+w[t[e+13]]+w[t[e+14]]+w[t[e+15]]).toLowerCase();if(!S(n))throw TypeError("Stringified UUID is invalid");return n};var L=function(t,e,n){var r=(t=t||{}).random||(t.rng||V)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return P(r)},O=n(3366),U=n(7462),$=n(7326),M=n(4578),I=n(5545);function T(t,e){var n=Object.create(null);return t&&s.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,s.isValidElement)(t)?e(t):t}(t)})),n}function q(t,e,n){return null!=n[e]?n[e]:t.props[e]}function B(t,e,n){var r=T(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var c={};for(var s in e){if(i[s])for(r=0;r<i[s].length;r++){var u=i[s][r];c[i[s][r]]=n(u)}c[s]=n(s)}for(r=0;r<o.length;r++)c[o[r]]=n(o[r]);return c}(e,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,s.isValidElement)(a)){var c=o in e,u=o in r,l=e[o],d=(0,s.isValidElement)(l)&&!l.props.in;!u||c&&!d?u||!c||d?u&&c&&(0,s.isValidElement)(l)&&(i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:q(a,"exit",t),enter:q(a,"enter",t)})):i[o]=(0,s.cloneElement)(a,{in:!1}):i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:q(a,"exit",t),enter:q(a,"enter",t)})}})),i}var G=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},Y=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,$.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,M.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,o=e.handleExited;return{children:e.firstRender?(n=t,r=o,T(n.children,(function(t){return(0,s.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:q(t,"appear",n),enter:q(t,"enter",n),exit:q(t,"exit",n)})}))):B(t,i,o),firstRender:!1}},n.handleExited=function(t,e){var n=T(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,U.Z)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=(0,O.Z)(t,["component","childFactory"]),i=this.state.contextValue,o=G(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?s.createElement(I.Z.Provider,{value:i},o):s.createElement(I.Z.Provider,{value:i},s.createElement(e,r,o))},e}(s.Component);Y.propTypes={},Y.defaultProps={component:"div",childFactory:function(t){return t}};var z=Y,H=n(6983),J=n(1413),K={contact:"Contact_contact__4zmlP",button:"Contact_button__F+kJb"},W=(0,u.$j)((function(t,e){var n=Z.Z.getContactById(t,e.id);return(0,J.Z)({},n)}),(function(t,e){return{onRemove:function(){return t(p.Z.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,r=t.onRemove;return(0,_.jsxs)("li",{className:K.contact,children:[(0,_.jsx)("p",{className:K.contactData,children:e}),(0,_.jsx)("p",{className:K.contactData,children:n}),(0,_.jsx)("button",{className:K.button,onClick:r,children:"X"})]})})),X="ContactList_contactList__UFVCg",Q={enter:"transitions_enter__qLqdY",enterActive:"transitions_enterActive__G9f8+",exit:"transitions_exit__Nylr9",exitActive:"transitions_exitActive__kr47r"},tt=(0,u.$j)((function(t){return{contacts:Z.Z.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return(0,_.jsx)(z,{component:"ul",className:X,children:e.map((function(t){return(0,_.jsx)(H.Z,{classNames:Q,timeout:200,children:(0,_.jsx)(W,{id:t.id})},L())}))})})),et=function(t){(0,a.Z)(n,t);var e=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.props.isAuthenticated?this.props.onFetchContacts():this.props.history.replace("/login")}},{key:"componentDidUpdate",value:function(){this.props.isAuthenticated||this.props.history.replace("/login")}},{key:"render",value:function(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.T,{name:"Phonebook"}),(0,_.jsx)(b,{}),(0,_.jsx)(N,{}),(0,_.jsx)(tt,{})]})}}]),n}(s.Component),nt={onFetchContacts:l.mh.fetchContacts},rt=(0,u.$j)((function(t){return{isLoadingContacts:l.lP.getLoading(t),isAuthenticated:d.isAuthenticated(t)}}),nt)(et)}}]);
//# sourceMappingURL=885.59602b48.chunk.js.map